// For format details, see https://aka.ms/devcontainer.json. For config options, see the
// README at: https://github.com/devcontainers/templates/tree/main/src/ruby-rails-postgres
{
  "name": "幸美商事点呼システム",
  "dockerComposeFile": "docker-compose.yml",
  "service": "app",
  "workspaceFolder": "/workspaces/${localWorkspaceFolderBasename}",
  "features": {
      // See https://containers.dev/features for list of features
      "ghcr.io/devcontainers-contrib/features/zsh-plugins:0": {
          "username": "vscode",
          "plugins": "ruby rails bundler"
      },
      "ghcr.io/devcontainers/features/docker-in-docker:2": {},
      "ghcr.io/devcontainers/features/github-cli:1": {},
      "ghcr.io/rocker-org/devcontainer-features/apt-packages:1": {
          "packages": "git, libpq-dev, openssh-client, imagemagick, libvips, libvips42, graphviz, vim, less"
      },
      "ghcr.io/devcontainers/features/ruby:1": {
          "version": "3.3.5"
        },

      "ghcr.io/devcontainers/features/common-utils:2": {
          "username": "vscode",
          "userUid": 1000,
          "userGid": 1000,
          "installZsh": true,
          "configureZshAsDefaultShell": true,
          "upgradePackages": true
      }
  },
  "customizations": {
      "vscode": {
          "extensions": [
              "Shopify.ruby-extensions-pack",
              "ms-ceintl.vscode-language-pack-ja",     // VS Codeの日本語言語パック
              "bung87.rails",                          // Ruby on Railsのサポート
              "bung87.vscode-gemfile",                 // Gemfileのシンタックスハイライトとサポート
              "cjay.ruby-and-rails-snippets",          // RubyとRailsのコードスニペット
              "craigmaslowski.erb",                    // ERBファイルのサポート
              "aliariff.vscode-erb-beautify",          // ERBファイルのフォーマットツール
              "hridoy.rails-snippets",                 // Rails用スニペット集
              "vense.rails-snippets",                  // Rails用のコードスニペット
              "vortizhe.simple-ruby-erb",              // RubyとERBファイルのサポート
              "Shopify.ruby-lsp",                 		 // RubyのLintツール
              "donjayamanne.githistory",               // Git履歴を視覚的に表示
              "eamodio.gitlens",                       // Gitの拡張ツールGitLens
              "mhutchie.git-graph",                    // Gitの視覚化ツールGit Graph
              "seatonjiang.gitmoji-vscode",            // Gitmojiのサポートでコミットに絵文字を追加
              "waderyan.gitblame",                     // Gitのコミット責任者を表示
              "codezombiech.gitignore",                // .gitignoreファイルのサポート
              "esbenp.prettier-vscode",                // コード整形ツールPrettier
              "kaiwood.endwise",                       // endキーワードを自動で追加
              "mikestead.dotenv",                      // .envファイルのサポート
              "oderwat.indent-rainbow",                // インデントを色分け表示
              "shardulm94.trailing-spaces",            // 行末の不要なスペースの表示
              "vscode-icons-team.vscode-icons"         // アイコンパック
          ]
      }
  },
  "forwardPorts": [
    3000, 5432
  ],
  "postCreateCommand": ".devcontainer/post-create.sh",
  "remoteUser": "vscode",
  "hostRequirements": {
      "memory": "4gb"
  }
}
